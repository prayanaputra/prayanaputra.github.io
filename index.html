<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spill Takdir Kelompok VIII.6</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=VT323&display=swap');

        :root {
            --bg-dark: #121212;
            --text-light: #f0f0f0;
            --neon-pink: #f92d8e;
            --neon-blue: #00bfff;
            --neon-green: #39FF14;
            --border-radius: 20px;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.1) 1px, transparent 0);
            background-size: 20px 20px;
            padding-top: 2rem;
            padding-bottom: 2rem;
        }

        .screen {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeIn 0.8s ease-out;
        }
        h2 { font-size: 2rem; margin-top: 0; }
        .hidden { display: none !important; }

        /* --- LAYAR 1: INPUT NAMA --- */
        #name-entry-screen h2 { text-shadow: 0 0 15px var(--neon-pink); }
        #name-input { text-align: center; }
        #submit-name-btn { box-shadow: 0 0 25px var(--neon-pink); }
        #error-message { color: var(--neon-pink); font-weight: 600; height: 20px; }

        /* --- LAYAR 2: LOADING & PRANK --- */
        #loading-screen { font-family: 'VT323', monospace; }
        #loading-header { font-size: 1.8rem; color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue); }
        #fun-fact { font-size: 1.2rem; min-height: 50px; margin: 1rem 0; color: #ccc; }
        .progress-bar { background-color: var(--neon-blue); }
        
        #cat-prank-screen { font-family: 'VT323', monospace; background: #000; border-color: var(--neon-green); text-align: left; }
        #cat-prank-screen h3 { color: var(--neon-green); }
        #cat-art { white-space: pre; font-size: 0.9rem; color: var(--neon-green); }
        
        /* --- LAYAR 3: KONTEN UTAMA --- */
        #main-content h2 { text-shadow: 0 0 10px var(--neon-blue); }
        #welcome-message { min-height: 30px; }
        #welcome-message::after { content: '|'; animation: blink 0.7s infinite; }
        #show-all-button { box-shadow: 0 0 20px var(--neon-blue); }
        
        /* --- KUIS (BOOTSTRAP MODAL THEME) --- */
        .modal-content { background-color: rgba(0,0,0,0.5); backdrop-filter: blur(15px); border: 1px solid var(--neon-green); }
        .modal-header, .modal-footer { border-bottom: 1px solid var(--neon-green); border-top: 1px solid var(--neon-green); }
        .modal-title { color: var(--neon-green); text-shadow: 0 0 10px var(--neon-green); }
        .btn-close { filter: invert(1) grayscale(100%) brightness(200%); }
        .quiz-option-btn.selected { border-color: var(--neon-blue); background: var(--neon-blue); color: var(--bg-dark); font-weight: 700;}
        #submit-answer-btn { background: var(--neon-green); color: var(--bg-dark); box-shadow: 0 0 20px var(--neon-green); }
        #quiz-feedback.correct { color: var(--neon-green); } #quiz-feedback.incorrect { color: var(--neon-pink); }

        /* --- KARTU (BOOTSTRAP CARD THEME) --- */
        .group-card {
            background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer;
        }
        .group-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.4); }
        .personal-card { border: 2px solid var(--neon-blue); box-shadow: 0 0 30px var(--neon-blue); }
        .card-header { padding: 1rem 1.5rem; color: #fff; font-size: 1.3rem; font-weight: 700; }
        .card-body { padding: 0; }
        .list-group-item { background: transparent; color: var(--text-light); }
        .task-assignment { background: rgba(0,0,0,0.3); border: 2px solid; }
        .group-1{--group-color:#4CAF50}.group-2{--group-color:#2196F3}.group-3{--group-color:#FFC107}.group-4{--group-color:#FF9800}.group-5{--group-color:#F44336}.group-6{--group-color:#9C27B0}.group-7{--group-color:#00BCD4}.group-8{--group-color:#673AB7}
        .card-header, .task-assignment { background-color: var(--group-color); border-color: var(--group-color); }

        /* --- SPINNER ANIMATION --- */
        #spinner-container { min-height: 400px; display: flex; align-items: center; justify-content: center; }
        .spinner-card { animation: popIn 0.3s; }
        .exploded { animation: explode 0.5s forwards; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes bounceIn { 0%{transform:scale(0.5);opacity:0} 60%{transform:scale(1.1);opacity:1} 100%{transform:scale(1)} }
        @keyframes blink { 50% { opacity: 0; } }
        @keyframes glitch { 0%,100%{transform:translate(0,0)} 20%{transform:translate(-3px,3px)} 40%{transform:translate(3px,-3px)} 60%{transform:translate(-3px,-3px)} 80%{transform:translate(3px,3px)} }
        .glitch-active { animation: glitch 0.2s infinite; }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes explode { from { transform: scale(1); opacity: 1; } to { transform: scale(3); opacity: 0; } }
    </style>
</head>
<body>
    <div class="container" id="main-container">
        <div id="name-entry-screen" class="screen">
            <h2 class="mb-3">âœ¨ Spill Takdir VIII.6 âœ¨</h2>
            <p>Satu nama untuk menentukan nasib sekelompok. Masukin namamu, jangan nama bapakmu!</p>
            <input type="text" id="name-input" class="form-control form-control-lg" placeholder="Ketik nama di sini, bre...">
            <button id="submit-name-btn" class="btn btn-lg mt-4">SPILL TAKDIRKU!</button>
            <p id="error-message" class="mt-3"></p>
        </div>
        </div>
    
    <audio id="heartbeat-sound" src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjU2LjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGF2YzU3LjY0LjEwMQNSBwgAAAAAAAAAAAAAAAB9eDCDAACYwQP/AARDE+gAABVMyoAFGqDIzviBGPEs5/3//v/2v23J5/y0y55+y55/y//65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/65/9f//7/u//5//r//v/+////N3Rz5//80z5+y5/y/6-"></audio>
    <audio id="glitch-sound" src="data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//wIA/f8EAPr/BAD7/wMA+v8DAPv/BAD8/wIA/f8EAPz/AgD+/wMA/P8DAPz/AgD+/wAA/v8CAP7/AAD+/wAA/v8BAP7/AgD+/wAA/v8CAP7/AAD+/wAA/v8CAP7/AAD+/wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"></audio>
    <audio id="typing-sound" src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU3LjU2LjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMYXZjNTcuNjQuMTAxAP/BEgAhE0gAAB4AAAAAABJMYXZmNTcuNTYuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//BE+AhE0gAAH4AAAAAABJMYXZmNTcuNTYuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV-axAAAAA+AAAAD6AAAAA/wAAACgAAAADAAAeAAAAGQAAACwAAAAYAAAC0AAAAIAAAAQAAAADgAAAPQAAAAYAAABYAAAADgAAACIAAADIAAAABQAAAE4AAAADwAAACwAAAAsAAAASAAAAAoAAABgAAAAJAAAANAAAAAUAAAAqAAAAAYAAACkAAAACQAAANwAAAADQAAAFgAAAAKAAAAUAAAADgAAAFAAAABQAAALwAAAAEAAAAsAAAABAAAACIAAADQAAAAAgAAACgAAAABAAAAMgAAAPgAAAAYAAABkAAAAAYAAAB0AAAAiAAAAFAAAAAsAAACwAAAADgAAACgAAAAUAAAAQAAAAAgAAADQAAAAEAAAAGAAAADwAAAPAAAAAsAAAAUAAAAAgAAADIAAAACgAAAGAAAADAAAAA4AAAAMgAAAAsAAAB4AAAAKAAAADgAAABQAAAACAAAAPAAAAA4AAAAUAAAAAgAAAC8AAAABAAAALAAAAPgAAAAYAAABkAAAAAYAAAB0AAAAiAAAACgAAAA4AAAAUAAAAAgAAADAAAAA4AAAAMgAAAAsAAAAYAAAAPAAAAPAAAAAsAAAAUAAAAAgAAAC8AAAACgAAAGAAAADAAAAA4AAAAUAAAAEAAAACgAAAAEAAAACIAAADQAAAAKAAAAKAAAAMgAAAAsAAAAeAAAACgAAADgAAABQAAAACAAAAPAAAAAUAAAAIAAAADgAAABQAAAACAAAALwAAAAEAAAAsAAAAAAADIAAAACgAAAGAAAADAAAAA4AAAAMgAAAAsAAAB4AAAAKAAAADgAAABQAAAACAAAAPAAAAA4AAAAUAAAAAgAAAC8AAAABAAAALAAAAPgAAAAYAAABkAAAAAYAAAB0AAAAiAAAACgAAAA4AAAAUAAAAAgAAADAAAAA4AAAAMgAAAAsAAAAYAAAAPAAAAPAAAAAsAAAAUAAAAAgAAAC8AAAACgAAAGAAAADAAAAA4AAAAUAAAAEAAAACgAAAAEAAAACIAAADQAAAAKAAAAKAAAAMgAAAAsAAAAeAAAACgAAADgAAABQAAAACAAAAPAAAAAUAAAAIAAAADgAAABQAAAACAAAALwAAAAEAAAAsAAAAAAA="></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // --- DATA KELAS VIII.6 (SUDAH DIPATENKAN & DIAcak) ---
        const groupData = [
            { id: 1, name: "Tim Error 404", colorEmoji: "ðŸŸ©", members: ["Putu Adel Liana Putri", "I Made Arya Bagus Permana Putra", "Ni Kadek Ayu Nopita Sari", "I Gede Suartaka", "Komang Ratih Novita Tri Amanda"], task: "Poster" },
            { id: 2, name: "Skuad Kuda Troya", colorEmoji: "ðŸŸ¦", members: ["Gusti Ayu Nadya Qurrota A'Yun", "Gede Dedi Afriyadi", "Komang Reyna Reynita", "I Made Wira Adi Kusuma", "Alvaro Defa Karuniawan"], task: "Infografis" },
            { id: 3, name: "Pasukan Ctrl+Z", colorEmoji: "ðŸŸ¨", members: ["I Gede Rahadi Verdika Dirga Yasa", "Jessica Valencia Caroline", "Anak Agung Ayu Dinda Ishana Maheswari", "I Putu Sandika Angga Widnyana", "Pande Ni Kadek Dwik Cahayati"], task: "Flyer" },
            { id: 4, name: "Geng Kipas Prosesor", colorEmoji: "ðŸŸ§", members: ["Kadek Dwi Cahyani", "Marsha Dinda Anditha", "Candra Rahayu", "I Nyoman Yudana Arta", "Made Ariyuga Kristia"], task: "Poster" },
            { id: 5, name: "Divisi RAM Penuh", colorEmoji: "ðŸŸ¥", members: ["Gede Satria Mahestra", "Putri Belinda Kanahaya", "I Made Atsama Wirya", "Putu Eka Sudarsini", "M. Andika Septiawan"], task: "Infografis" },
            { id: 6, name: "Komunitas Lupa Password", colorEmoji: "ðŸŸª", members: ["Edellwais Putri Handayani", "Jasmine Grechia Bohakamau", "Ni Ketut Gita Gayatri", "I Komang Bayu Arya Wiguna", "Sakha Daniswara Riswanto"], task: "Flyer" },
            { id: 7, name: "Pejuang Dark Mode", colorEmoji: "ðŸ’ ", members: ["Zanetta Ozwala Prasetya", "I Gede Agus Budiartawan", "Kadek Ragga Dwimas Wibawa", "Fitri Citra Dewi", "Ni Putu Risma Utari Yani"], task: "Poster" },
            { id: 8, name: "Klan Kabel Semrawut", colorEmoji: "â­", members: ["Putu Gede Sindhu Putra", "Komang Sri Astuti", "Diego Christian Ananta", "Ketut Nesa Kurnia Dewi", "Komang Niri Astriniasih"], task: "Infografis" }
        ];

        const funFacts = ["Keringat kuda nil warnanya pink.", "Gurita punya 3 jantung.", "Madu adalah satu-satunya makanan yang gak bisa basi.", "Suara bebek tidak menggema, dan gak ada yang tau kenapa.", "Kalau kamu teriak 8 tahun, energi suaramu cuma cukup buat manasin secangkir kopi."];
        const glitchTexts = ["Bentar, servernya lagi makan seblak...", "AI-nya lagi curhat, sabar ya...", "Mencari sinyal ke Pluto...", "Anjir nge-lag, pasti ada yg mikirin mantan...", "Menghubungi jin Qorin..."];
        const quizData = [ { question: "CPU itu singkatan dari apa hayo?", options: ["Central Processing Unit", "Computer Personal Unit", "Control Power Unit"], correctAnswer: 0 }, { question: "Yang BUKAN termasuk perangkat input komputer adalah...", options: ["Mouse", "Keyboard", "Monitor"], correctAnswer: 2 }, { question: "RAM gunanya buat apa sih?", options: ["Nyetak dokumen", "Menyimpan data sementara", "Nonton YouTube"], correctAnswer: 1 }, { question: "1 Kilobyte (KB) itu sekitar berapa Byte?", options: ["100 Byte", "1024 Byte", "1 Juta Byte"], correctAnswer: 1 } ];
        
        let currentQuiz = {}, selectedAnswerIndex = -1;
        
        const mainContainer = document.getElementById('main-container');

        function typeWriter(element, text, speed) { /* ... (fungsi ini sama seperti sebelumnya) ... */ }
        function createGroupCardHTML(group, isPersonal = false) { /* ... (sama seperti sebelumnya) ... */ }
        function displayQuiz() { /* ... (sama seperti sebelumnya) ... */ }
        function handleQuizOptionClick(e) { /* ... (sama seperti sebelumnya) ... */ }
        function handleSubmitAnswer(allGroups) { /* ... (sedikit modifikasi) ... */ }

        async function startTheShow(userName) {
            // Sembunyikan layar input
            document.getElementById('name-entry-screen').classList.add('hidden');

            let userGroup = groupData.find(g => g.members.some(m => m.toLowerCase().includes(userName.toLowerCase())));
            if (!userGroup) {
                document.getElementById('error-message').textContent = "Sape lu? Gak ada di absen, Coba lagi!";
                document.getElementById('name-entry-screen').classList.remove('hidden');
                return;
            }

            // Mulai Drama Loading
            mainContainer.innerHTML += `<div id="loading-screen" class="screen"><p id="loading-header">MENGKALIBRASI TAKDIR...</p><div id="fun-fact"></div><div class="progress"><div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%">0%</div></div></div>`;
            
            const sounds = { heartbeat: document.getElementById('heartbeat-sound'), glitch: document.getElementById('glitch-sound'), typing: document.getElementById('typing-sound') };
            sounds.heartbeat.play();

            const progressBar = document.getElementById('progress-bar');
            const funFactEl = document.getElementById('fun-fact');
            let progress = 0;
            
            // FASE 1: Fun Fact
            let factInterval = setInterval(() => { funFactEl.textContent = "Fun Fact: " + funFacts[Math.floor(Math.random() * funFacts.length)]; }, 2000);
            while (progress < 30) { progress++; progressBar.style.width = `${progress}%`; progressBar.textContent = `${progress}%`; await new Promise(r => setTimeout(r, 40)); }

            // FASE 2: Glitch
            clearInterval(factInterval);
            sounds.glitch.play();
            mainContainer.classList.add('glitch-active');
            let glitchTextInterval = setInterval(() => { funFactEl.textContent = glitchTexts[Math.floor(Math.random() * glitchTexts.length)]; }, 1000);
            sounds.heartbeat.playbackRate = 1.5;
            await new Promise(r => setTimeout(r, 1000));
            progress = 25; progressBar.style.width = `${progress}%`; progressBar.textContent = `${progress}%`;
            await new Promise(r => setTimeout(r, 1000));
            progress = 40; progressBar.style.width = `${progress}%`; progressBar.textContent = `${progress}%`;
            await new Promise(r => setTimeout(r, 2000));
            
            // FASE 3: Prank Kucing
            clearInterval(glitchTextInterval);
            mainContainer.classList.remove('glitch-active');
            sounds.glitch.pause();
            sounds.typing.play();
            document.getElementById('loading-screen').classList.add('hidden');
            mainContainer.innerHTML += `<div id="cat-prank-screen" class="screen"><h3>[ Akses Diberikan ke Server Takdir ]</h3><pre id="cat-art">  /\\_/\\\n ( o.o )\n  > ^ <</pre><h3 id="cat-text">Anjir, servernya dipegang kucing...</h3></div>`;
            await new Promise(r => setTimeout(r, 5000));
            
            // FASE 4: Final Reveal
            sounds.typing.pause();
            document.getElementById('cat-prank-screen').classList.add('hidden');
            const loadingScreen = document.getElementById('loading-screen');
            loadingScreen.classList.remove('hidden');
            document.getElementById('loading-header').textContent = "TAKDIR DITEMUKAN!";
            funFactEl.textContent = "Mempersiapkan kejutan...";
            while (progress < 100) { progress++; progressBar.style.width = `${progress}%`; progressBar.textContent = `${progress}%`; await new Promise(r => setTimeout(r, 10)); }
            sounds.heartbeat.pause();
            await new Promise(r => setTimeout(r, 500));
            
            // TAMPILKAN HASIL
            loadingScreen.classList.add('hidden');
            mainContainer.innerHTML += `<div id="main-content"><div id="personal-reveal" class="text-center"><h2 id="welcome-message"></h2><div id="personal-card-container" class="d-flex justify-content-center mt-3"></div><button id="show-all-button" class="btn btn-lg mt-4">Spill Semua Kelompok Dong!</button></div><div id="spinner-container" class="hidden my-4"></div><div id="all-groups-reveal" class="hidden"><h3 class="mt-5">Nah, ini dia daftar lengkapnya, Cekidot!</h3><div id="all-groups-container" class="row g-4 mt-3"></div></div></div>`;
            
            confetti({ particleCount: 150, spread: 90, origin: { y: 0.6 } });
            document.getElementById('personal-card-container').innerHTML = createGroupCardHTML(userGroup, true);
            
            typeWriter(document.getElementById('welcome-message'), `Anjay! ${userName}, ini takdirmu!`, 75);

            setTimeout(() => { document.querySelector('.personal-card').classList.add('active'); }, 2500);
            
            document.getElementById('show-all-button').addEventListener('click', () => displayQuiz(groupData));
        }

        function createGroupCardHTML(group, isPersonal = false) {
             const membersHTML = group.members.map(member => `<li class="list-group-item">${member}</li>`).join('');
            return `
                <div class="card group-card ${isPersonal ? 'personal-card' : ''} group-${group.id}">
                    <div class="card-header">${group.colorEmoji} ${group.name}</div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">${membersHTML}</ul>
                    </div>
                    <div class="card-footer task-assignment">${group.task}</div>
                </div>`;
        }
        function typeWriter(element, text, speed) {
            let i = 0;
            element.innerHTML = "";
            const type = () => { if (i < text.length) { element.innerHTML += text.charAt(i); i++; setTimeout(type, speed); } };
            type();
        }
        
        function displayQuiz(allGroups) {
            mainContainer.innerHTML += `<div class="modal fade" id="quizModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">âš¡ Kuis Dadakan! âš¡</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body text-center"><p>Eits, jawab dulu ini sebelum kepoin yang lain!</p><p id="quiz-question" class="h5 my-3"></p><div id="quiz-options" class="d-grid gap-2"></div><p id="quiz-feedback" class="mt-3 fw-bold"></p></div><div class="modal-footer"><button id="submit-answer-btn" class="btn">Jawab!</button></div></div></div></div>`;
            
            currentQuiz = quizData[Math.floor(Math.random() * quizData.length)];
            document.getElementById('quiz-question').textContent = currentQuiz.question;
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            currentQuiz.options.forEach((option, index) => { optionsContainer.innerHTML += `<button class="btn btn-outline-light quiz-option-btn" data-index="${index}">${option}</button>`; });
            
            const quizModal = new bootstrap.Modal(document.getElementById('quizModal'));
            quizModal.show();

            document.getElementById('submit-answer-btn').onclick = () => handleSubmitAnswer(allGroups, quizModal);
            optionsContainer.onclick = handleQuizOptionClick;
        }

        function handleQuizOptionClick(e) {
            if (e.target.classList.contains('quiz-option-btn')) {
                document.querySelectorAll('.quiz-option-btn').forEach(btn => btn.classList.remove('selected'));
                e.target.classList.add('selected');
                selectedAnswerIndex = parseInt(e.target.dataset.index);
            }
        }

        function handleSubmitAnswer(allGroups, modalInstance) {
            if (selectedAnswerIndex === -1) return;
            const feedbackEl = document.getElementById('quiz-feedback');
            const isCorrect = selectedAnswerIndex === currentQuiz.correctAnswer;
            feedbackEl.className = isCorrect ? 'correct' : 'incorrect';
            feedbackEl.textContent = isCorrect ? "CAKEP BENER! Jeniusss..." : "YAH, SALAH! Belajar lagi sono wkwk";
            
            setTimeout(() => {
                modalInstance.hide();
                startSpinnerAnimation(allGroups);
            }, 2000);
        }

        async function startSpinnerAnimation(allGroups) {
            document.getElementById('show-all-button').classList.add('hidden');
            const spinnerContainer = document.getElementById('spinner-container');
            spinnerContainer.classList.remove('hidden');

            let spinInterval = setInterval(() => {
                const randomGroup = allGroups[Math.floor(Math.random() * allGroups.length)];
                spinnerContainer.innerHTML = createGroupCardHTML(randomGroup);
                spinnerContainer.firstElementChild.classList.add('spinner-card');
            }, 150);

            await new Promise(r => setTimeout(r, 5000));
            
            clearInterval(spinInterval);
            const finalSpinnerCard = spinnerContainer.firstElementChild;
            finalSpinnerCard.classList.add('exploded');

            await new Promise(r => setTimeout(r, 500));

            spinnerContainer.classList.add('hidden');
            const allGroupsReveal = document.getElementById('all-groups-reveal');
            allGroupsReveal.classList.remove('hidden');
            
            const allGroupsContainer = document.getElementById('all-groups-container');
            allGroupsContainer.innerHTML = ''; // Clear container
            allGroups.forEach(group => {
                const col = document.createElement('div');
                col.className = 'col-lg-4 col-md-6';
                col.innerHTML = createGroupCardHTML(group);
                allGroupsContainer.appendChild(col);
            });
        }
        
        document.getElementById('submit-name-btn').addEventListener('click', () => {
            const nameInput = document.getElementById('name-input').value.trim();
            if (nameInput === "") { document.getElementById('error-message').textContent = "Isi nama dulu, bestie!"; return; }
            document.getElementById('error-message').textContent = "";
            startTheShow(nameInput);
        });

        document.body.addEventListener('click', (e) => {
            const cardHeader = e.target.closest('.card-header');
            if (cardHeader && !e.target.closest('#spinner-container')) {
                const card = cardHeader.parentElement;
                const bsCollapse = new bootstrap.Collapse(card.querySelector('.collapse') || createCollapse(card), { toggle: false });
                bsCollapse.toggle();
            }
        });
    });
    </script>
</body>
</html>
