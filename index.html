<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pengecekan Nilai Interaktif</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* ====================================================================== */
        /* BAGIAN 1: CSS (Gaya, Responsif, dan Animasi) */
        /* ====================================================================== */

        :root {
            --color-primary: #007bff;
            --color-success: #28a745;
            --color-danger: #dc3545;
            --color-warning: #ffc107;
            --color-highlight: #ff8c00;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 550px;
            text-align: center;
            transition: all 0.5s ease-in-out;
        }

        h1 {
            color: var(--color-primary);
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .kkm-info {
            font-size: 1.1em;
            color: #6c757d;
            margin-bottom: 25px;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
        }

        #searchInput {
            flex-grow: 1;
            padding: 12px;
            border: 2px solid #ced4da;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        #searchInput:focus {
            border-color: var(--color-primary);
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
            outline: none;
        }

        button {
            padding: 12px 20px;
            background-color: var(--color-primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.1s;
        }

        button:hover {
            background-color: #0056b3;
        }
        
        button:active {
            transform: scale(0.98);
        }

        .result-box {
            background-color: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            min-height: 100px;
            text-align: left;
            opacity: 0; 
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .result-box.show {
            opacity: 1;
            transform: translateY(0);
        }

        .result-item {
            font-size: 1.2em;
            margin-bottom: 8px;
            color: #343a40;
        }
        
        .result-item strong {
            display: inline-block;
            min-width: 80px;
            font-weight: bold; /* Tetap bold di sini untuk label (Nama:, NIS:, Nilai:) */
        }

        /* --- Badge Nilai Tertinggi --- */
        .top-scorer-alert {
            background-color: var(--color-highlight);
            color: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
            animation: fadeInOut 2s infinite alternate;
        }

        /* --- Indikator KKM (Peringatan) --- */
        .status-badge {
            padding: 10px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1.1em;
            animation: bounceIn 0.5s ease-out;
        }

        .status-success {
            background-color: #d4edda;
            color: var(--color-success);
        }

        .status-fail {
            background-color: #f8d7da;
            color: var(--color-danger);
        }

        /* --- Animasi Ikon & Keyframes --- */
        .icon-win {
            color: var(--color-success);
            font-size: 1.5em;
            animation: pulse 1s infinite alternate;
        }

        .icon-fail {
            color: var(--color-danger);
            font-size: 1.5em;
            animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both infinite;
            transform: translate3d(0, 0, 0);
            backface-visibility: hidden;
            perspective: 1000px;
        }

        @keyframes loading-pulse {
            0% { background-color: #e9ecef; }
            50% { background-color: #dee2e6; }
            100% { background-color: #e9ecef; }
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }
        
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(+2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(+4px, 0, 0); }
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0.8; box-shadow: 0 0 10px rgba(255, 140, 0, 0.7); }
            100% { opacity: 1; box-shadow: none; }
        }

        /* ====================================================================== */
        /* BAGIAN 2: Media Queries (Responsif) */
        /* ====================================================================== */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
                margin-top: 20px;
            }
            h1 {
                font-size: 1.5em;
            }
            .search-box {
                flex-direction: column;
            }
            #searchInput {
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="mainContainer">
        <h1>Nilai Informatika Kelas 8</h1>
        <p class="kkm-info">KKM: 74</p>
        
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Masukkan Nama atau NIS..." onkeyup="checkEnter(event)" autofocus>
            <button onclick="cariNilai()">Cari Nilai</button>
        </div>

        <div id="result" class="result-box">
            <p style="text-align: center; color: #6c757d; margin: 0; font-style: italic;">Masukkan data pencarian di atas.</p>
        </div>
        
        <div id="confetti" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 100;"></div>
    </div>
    
    <script>
        const dataSiswa = [
            { nis: "6195", nama: "Alvine Luke Xavier Setiawan", nilai: 34 },
            { nis: "6196", nama: "Amelia Melni Tefa", nilai: 44 },
            { nis: "6197", nama: "Ayu Alya Fadhila", nilai: 56 },
            { nis: "6198", nama: "Cetta Kamilah Hakim", nilai: 38 },
            { nis: "6199", nama: "Dion Ronggop Wibowo Sakti", nilai: 38 },
            { nis: "6200", nama: "Elisheva Saffira Putri Hermawan", nilai: 48 },
            { nis: "6201", nama: "I Gusti Ayu Artika Sumertini", nilai: 28 },
            { nis: "6202", nama: "I Gusti Agung Anya Glory Agrata", nilai: 68 },
            { nis: "6203", nama: "I Gusti Ngurah Agung Satria Wiguna", nilai: 66 },
            { nis: "6204", nama: "I Kadek Darren Hadisurya Syailendra Putra", nilai: 50 },
            { nis: "6205", nama: "I Kadek Juna Satria Wibawa", nilai: 52 },
            { nis: "6206", nama: "Ida Ayu Komang Nova Paramitha Kemenueh", nilai: 42 },
            { nis: "6207", nama: "Jessica Putri Apriansyah", nilai: 44 },
            { nis: "6208", nama: "Maulidya Farah Az-Zahra", nilai: 44 },
            { nis: "6209", nama: "Muhammad Marvel Pratama", nilai: 32 },
            { nis: "6210", nama: "Ni Putu Gangga Putri Maharani", nilai: 26 },
            { nis: "6211", nama: "Nickolas Azka Ibrahim Gkikas", nilai: 62 },
            { nis: "6212", "nama": "Nova Hana Novellicia", nilai: 38 },
            { nis: "6213", nama: "Prince Yutaka Fang", nilai: 48 },
            { nis: "6214", nama: "Putu Dhiren Agasthya Zhody", nilai: 56 },
            { nis: "6215", nama: "Putu Hening Anggara Putra Gunawan", nilai: 40 },
            { nis: "6216", nama: "Putu Khaila Sukma Pradnyaswari", nilai: 40 },
            { nis: "6218", nama: "Yukita Janardana", nilai: 50 },
            { nis: "6521", nama: "Alesha Zevanya Saputri", nilai: 74 } 
        ];

        const KKM = 74;
        const resultDiv = document.getElementById('result');
        const searchInput = document.getElementById('searchInput');
        const confettiDiv = document.getElementById('confetti');

        // Cari Nilai Tertinggi di seluruh data
        const nilaiTertinggi = Math.max(...dataSiswa.map(siswa => siswa.nilai));

        // Fungsi untuk animasi loading (interaktif saat mencari)
        function startLoadingAnimation() {
            resultDiv.classList.remove('show');
            resultDiv.style.animation = 'loading-pulse 1s infinite alternate';
            resultDiv.innerHTML = '<p style="text-align: center; color: var(--color-primary); margin: 0;">Sedang Mencari Data...</p>';
        }

        function stopLoadingAnimation() {
            resultDiv.style.animation = 'none';
        }

        // Fungsi untuk menampilkan konfeti (menggunakan emoji)
        function triggerConfetti() {
            const emojis = ['üèÜ', '‚ú®', 'üéâ', 'üéä', 'ü•á', 'üåü', 'üëë'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                confetti.style.position = 'absolute';
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.top = Math.random() * window.innerHeight * 0.2 + 'px';
                confetti.style.fontSize = Math.random() * 20 + 10 + 'px';
                confetti.style.opacity = '0.9';
                confetti.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
                confetti.style.transition = 'none';
                
                confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: 'translateY(' + (window.innerHeight) + 'px) rotate(720deg)', opacity: 0.1 }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    easing: 'ease-in',
                    fill: 'forwards'
                });

                confettiDiv.appendChild(confetti);
            }
            
            setTimeout(() => {
                confettiDiv.innerHTML = '';
            }, 5000);
        }

        function cariNilai() {
            startLoadingAnimation();
            const input = searchInput.value.trim().toLowerCase();
            
            setTimeout(() => {
                stopLoadingAnimation();
                
                if (input === "") {
                    resultDiv.innerHTML = '<p style="color: var(--color-danger); font-weight: bold; text-align: center; margin: 0;">Mohon masukkan Nama atau NIS.</p>';
                    resultDiv.classList.add('show');
                    return;
                }

                const siswaDitemukan = dataSiswa.find(siswa => 
                    siswa.nis === input || 
                    siswa.nama.toLowerCase().includes(input)
                );

                if (siswaDitemukan) {
                    let topScorerBadge = '';
                    let statusKelas = '';
                    let icon = '';
                    let pesanPeringatan = '';
                    
                    // 1. Cek Nilai Tertinggi
                    if (siswaDitemukan.nilai === nilaiTertinggi) {
                        topScorerBadge = '<div class="top-scorer-alert"><i class="fas fa-crown"></i> SELAMAT! Nilai Tertinggi Seangkatan (Informatika)! <i class="fas fa-crown"></i></div>';
                        triggerConfetti(); // Berikan konfeti spesial
                    }
                    
                    // 2. Cek KKM
                    if (siswaDitemukan.nilai >= KKM) {
                        statusKelas = 'status-success';
                        icon = '<i class="fas fa-trophy icon-win"></i> <i class="fas fa-fireworks icon-win"></i>';
                        pesanPeringatan = 'Status: ‚úÖ MEMENUHI KKM (Nilai >= ' + KKM + ')';
                        if (siswaDitemukan.nilai !== nilaiTertinggi) {
                             triggerConfetti(); 
                        }
                    } else {
                        statusKelas = 'status-fail';
                        icon = '<i class="fas fa-siren-on icon-fail"></i>';
                        pesanPeringatan = 'Status: ‚ö†Ô∏è BELUM MEMENUHI KKM (Nilai < ' + KKM + ')';
                    }

                    // Tampilkan hasil
                    resultDiv.innerHTML = `
                        ${topScorerBadge}
                        <div class="result-item"><strong>Nama:</strong> ${siswaDitemukan.nama}</div>
                        <div class="result-item"><strong>NIS:</strong> ${siswaDitemukan.nis}</div>
                        <div class="result-item"><strong>Nilai:</strong> <span style="font-size: 1.5em; font-weight: bold;">${siswaDitemukan.nilai}</span></div>
                        <div class="${statusKelas} status-badge">
                            ${icon}
                            <span>${pesanPeringatan}</span>
                        </div>
                    `;
                    resultDiv.classList.add('show');
                } else {
                    resultDiv.innerHTML = '<p style="color: var(--color-warning); font-weight: bold; text-align: center; margin: 0;">Data siswa tidak ditemukan. Coba masukkan NIS lengkap atau nama lengkap.</p>';
                    resultDiv.classList.add('show');
                }
            }, 800); 
        }

        // Fungsi untuk mengaktifkan pencarian saat menekan Enter
        function checkEnter(event) {
            if (event.key === 'Enter') {
                cariNilai();
            }
        }
    </script>
</body>
</html>
